import{u as y,b as v,r as u,j as e}from"./index-BdJnNWXt.js";import{I as l}from"./Input-IdQeoUSy.js";import{B as p}from"./Button-Bl_ngrCl.js";const C=()=>{const{user:x}=y(),o=v(),[t,h]=u.useState({title:"",description:"",detailedDescription:"",price:"",fundingGoal:"",deadline:"",category:"",tags:""}),[i,c]=u.useState({}),[g,m]=u.useState(!1),r=s=>{const{name:a,value:n}=s.target;h(d=>({...d,[a]:n})),i[a]&&c(d=>({...d,[a]:""}))},f=()=>{const s={};return t.title?t.title.length<5&&(s.title="Title must be at least 5 characters"):s.title="Product title is required",t.description?t.description.length<10&&(s.description="Description must be at least 10 characters"):s.description="Short description is required",t.detailedDescription?t.detailedDescription.length<50&&(s.detailedDescription="Detailed description must be at least 50 characters"):s.detailedDescription="Detailed description is required",t.price?(isNaN(t.price)||parseFloat(t.price)<=0)&&(s.price="Price must be a positive number"):s.price="Price is required",t.fundingGoal?(isNaN(t.fundingGoal)||parseInt(t.fundingGoal)<=0)&&(s.fundingGoal="Funding goal must be a positive number"):s.fundingGoal="Funding goal is required",t.deadline?new Date(t.deadline)<=new Date&&(s.deadline="Deadline must be in the future"):s.deadline="Deadline is required",t.category||(s.category="Category is required"),s},b=async s=>{var n,d;s.preventDefault();const a=f();if(Object.keys(a).length>0){c(a);return}m(!0);try{setTimeout(()=>{m(!1),o("/creator/dashboard",{state:{message:"Product created successfully! It is now pending approval."}})},1500)}catch(j){c({general:((d=(n=j.response)==null?void 0:n.data)==null?void 0:d.message)||"Failed to create product"}),m(!1)}};return!x||x.role!=="Creator"?e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Access denied"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"You must be a creator to create products."}),e.jsx(p,{onClick:()=>o("/"),children:"Go to Home"})]})}):e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("div",{className:"md:flex md:items-center md:justify-between mb-8",children:e.jsx("div",{className:"flex-1 min-w-0",children:e.jsx("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate",children:"Create New Product"})})}),e.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:e.jsx("div",{className:"px-4 py-5 sm:p-6",children:e.jsxs("form",{onSubmit:b,className:"space-y-6",children:[i.general&&e.jsx("div",{className:"rounded-md bg-red-50 p-4",children:e.jsx("div",{className:"text-sm text-red-700",children:i.general})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Product Information"}),e.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[e.jsx(l,{label:"Product Title",id:"title",name:"title",type:"text",value:t.title,onChange:r,error:i.title,required:!0,placeholder:"Enter product title"}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Short Description ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{id:"description",name:"description",rows:3,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:t.description,onChange:r,placeholder:"Brief description of your product"}),i.description&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.description})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"detailedDescription",className:"block text-sm font-medium text-gray-700 mb-1",children:["Detailed Description ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{id:"detailedDescription",name:"detailedDescription",rows:6,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:t.detailedDescription,onChange:r,placeholder:"Detailed description including features, benefits, and specifications"}),i.detailedDescription&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.detailedDescription})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[e.jsx(l,{label:"Price ($)",id:"price",name:"price",type:"number",step:"0.01",min:"0",value:t.price,onChange:r,error:i.price,required:!0,placeholder:"0.00"}),e.jsx(l,{label:"Funding Goal (Number of Backers)",id:"fundingGoal",name:"fundingGoal",type:"number",min:"1",value:t.fundingGoal,onChange:r,error:i.fundingGoal,required:!0,placeholder:"100"})]}),e.jsx(l,{label:"Funding Deadline",id:"deadline",name:"deadline",type:"date",value:t.deadline,onChange:r,error:i.deadline,required:!0}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-1",children:["Category ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{id:"category",name:"category",value:t.category,onChange:r,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",children:[e.jsx("option",{value:"",children:"Select a category"}),e.jsx("option",{value:"Electronics",children:"Electronics"}),e.jsx("option",{value:"Home & Garden",children:"Home & Garden"}),e.jsx("option",{value:"Fashion",children:"Fashion"}),e.jsx("option",{value:"Toys & Games",children:"Toys & Games"}),e.jsx("option",{value:"Sports",children:"Sports"}),e.jsx("option",{value:"Health & Beauty",children:"Health & Beauty"})]}),i.category&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.category})]}),e.jsx(l,{label:"Tags (comma separated)",id:"tags",name:"tags",type:"text",value:t.tags,onChange:r,placeholder:"innovative, tech, gadget"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx(p,{variant:"outline",type:"button",onClick:()=>o("/creator/dashboard"),children:"Cancel"}),e.jsx(p,{type:"submit",disabled:g,children:g?"Creating...":"Create Product"})]})]})})})]})};export{C as default};
