import{r,j as e,L as n}from"./index-BdJnNWXt.js";import{P as d}from"./ProgressBar-CbDWmlug.js";import{L as c,C as x,S as m}from"./LazyImage-B_TodhVr.js";const g=({product:s})=>{const a=s.status==="Funding",i=r.useMemo(()=>!a||!s.deadline?null:Math.ceil((new Date(s.deadline)-new Date)/(1e3*60*60*24)),[a,s.deadline]);return e.jsx("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-xl transition-all duration-300 ease-in-out transform hover:-translate-y-1",children:e.jsxs(n,{to:`/product/${s._id}`,children:[e.jsxs("div",{className:"relative",children:[s.images&&s.images.length>0?e.jsx(c,{src:s.images[0],alt:s.title,className:"w-full h-48 object-cover"}):e.jsx("div",{className:"w-full h-48 bg-gray-200 flex items-center justify-center",children:e.jsx("span",{className:"text-gray-500",children:"No image"})}),s.isFeatured&&e.jsx("span",{className:"absolute top-2 left-2 bg-warning-500 text-white text-xs font-bold px-2 py-1 rounded-full",children:"Featured"}),a&&e.jsx("span",{className:"absolute top-2 right-2 bg-primary-100 text-primary-800 text-xs font-medium px-2 py-1 rounded-full",children:"Funding"})]}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 truncate",children:s.title}),s.creator&&s.creator.isVerified&&e.jsx(x,{isVerified:s.creator.isVerified,size:"sm"})]}),e.jsx("p",{className:"mt-1 text-sm text-gray-500 truncate",children:s.category}),e.jsx("div",{className:"mt-2",children:e.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:["$",s.price.toFixed(2)]})}),a&&s.successProbability&&e.jsx("div",{className:"mt-2",children:e.jsx(m,{probability:s.successProbability,size:"sm"})}),a&&e.jsxs("div",{className:"mt-3",children:[e.jsx(d,{current:s.currentFunding,total:s.fundingGoal,label:"funded"}),e.jsxs("div",{className:"flex justify-between text-sm text-gray-500 mt-1",children:[e.jsxs("span",{children:[s.currentFunding," backers"]}),e.jsxs("span",{children:[i," days left"]})]})]}),s.averageRating>0&&e.jsxs("div",{className:"mt-2 flex items-center",children:[e.jsx("div",{className:"flex text-warning-400",children:[...Array(5)].map((t,l)=>e.jsx("svg",{className:`w-4 h-4 ${l<Math.floor(s.averageRating)?"text-warning-400":"text-gray-300"}`,fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},l))}),e.jsxs("span",{className:"ml-1 text-sm text-gray-500",children:[s.averageRating.toFixed(1)," (",s.totalReviews,")"]})]})]})]})})},f=({products:s,loading:a=!1})=>a?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[...Array(8)].map((i,t)=>e.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden animate-pulse",children:[e.jsx("div",{className:"w-full h-48 bg-gray-200"}),e.jsxs("div",{className:"p-4",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2 mb-4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4"})]})]},t))}):!s||s.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No products"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Get started by creating a new product."})]}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:s.map(i=>e.jsx(g,{product:i},i._id))});export{f as P};
