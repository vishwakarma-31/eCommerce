import{u as j,j as e,B as b,L as v}from"./index-Db17rpNr.js";import{r as m}from"./vendor-nf7bT_Uh.js";import{I as l}from"./Input-DZsv7WCF.js";import{u as y,L as N}from"./router-DubZYNKk.js";import"./utils-ngrFHoWO.js";const q=()=>{const[a,x]=m.useState({name:"",email:"",password:"",confirmPassword:"",role:"Backer"}),[s,d]=m.useState({}),[c,u]=m.useState(!1),{register:g}=j(),p=y(),t=r=>{const{name:o,value:n}=r.target;x(i=>({...i,[o]:n})),s[o]&&d(i=>({...i,[o]:""}))},h=()=>{const r={};return a.name?a.name.length<2&&(r.name="Name must be at least 2 characters"):r.name="Name is required",a.email?/\S+@\S+\.\S+/.test(a.email)||(r.email="Email address is invalid"):r.email="Email is required",a.password?a.password.length<6&&(r.password="Password must be at least 6 characters"):r.password="Password is required",a.password!==a.confirmPassword&&(r.confirmPassword="Passwords do not match"),r},f=async r=>{var n,i;r.preventDefault();const o=h();if(Object.keys(o).length>0){d(o);return}u(!0);try{await g({name:a.name,email:a.email,password:a.password,role:a.role}),p("/profile")}catch(w){d({general:((i=(n=w.response)==null?void 0:n.data)==null?void 0:i.message)||"Registration failed. Please try again."})}finally{u(!1)}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full space-y-8",children:[e.jsx("div",{children:e.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Create your account"})}),e.jsxs("form",{className:"mt-8 space-y-6",onSubmit:f,children:[s.general&&e.jsx("div",{className:"rounded-md bg-red-50 p-4",children:e.jsx("div",{className:"text-sm text-red-700",children:s.general})}),e.jsx(l,{label:"Full Name",id:"name",name:"name",type:"text",autoComplete:"name",required:!0,value:a.name,onChange:t,error:s.name}),e.jsx(l,{label:"Email address",id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:a.email,onChange:t,error:s.email}),e.jsx(l,{label:"Password",id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,value:a.password,onChange:t,error:s.password}),e.jsx(l,{label:"Confirm Password",id:"confirmPassword",name:"confirmPassword",type:"password",autoComplete:"new-password",required:!0,value:a.confirmPassword,onChange:t,error:s.confirmPassword}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"I want to:"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("button",{type:"button",className:`p-4 border rounded-lg text-center ${a.role==="Backer"?"border-indigo-500 bg-indigo-50":"border-gray-300 hover:border-gray-400"}`,onClick:()=>t({target:{name:"role",value:"Backer"}}),children:[e.jsx("div",{className:"font-medium",children:"Back Projects"}),e.jsx("div",{className:"text-sm text-gray-500 mt-1",children:"Support innovative ideas"})]}),e.jsxs("button",{type:"button",className:`p-4 border rounded-lg text-center ${a.role==="Creator"?"border-indigo-500 bg-indigo-50":"border-gray-300 hover:border-gray-400"}`,onClick:()=>t({target:{name:"role",value:"Creator"}}),children:[e.jsx("div",{className:"font-medium",children:"Create Projects"}),e.jsx("div",{className:"text-sm text-gray-500 mt-1",children:"Pitch your ideas"})]})]})]}),e.jsx("div",{children:e.jsx(b,{type:"submit",className:"w-full",disabled:c,children:c?e.jsx(v,{size:"sm",color:"white"}):"Sign up"})})]}),e.jsx("div",{className:"text-center",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",e.jsx(N,{to:"/login",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"Sign in"})]})})]})})};export{q as default};
