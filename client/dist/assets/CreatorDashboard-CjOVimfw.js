import{u,j as e,B as l,L as j}from"./index-Db17rpNr.js";import{r as i}from"./vendor-nf7bT_Uh.js";import{u as g}from"./router-DubZYNKk.js";import"./utils-ngrFHoWO.js";const b=()=>{const{currentUser:t,isAuthenticated:d}=u(),a=g(),[c,x]=i.useState([]),[n,o]=i.useState({totalProjects:0,totalRevenue:0,totalBackers:0}),[m,r]=i.useState(!0);return i.useEffect(()=>{const s=async()=>{try{setTimeout(()=>{o({totalProjects:5,totalRevenue:12500,totalBackers:342}),x([{_id:"1",title:"Smart Fitness Tracker",status:"Funding",currentFunding:85,fundingGoal:100,deadline:"2025-10-15",price:79.99},{_id:"2",title:"Wireless Noise Cancelling Headphones",status:"Successful",currentFunding:250,fundingGoal:150,deadline:"2025-09-30",price:199.99},{_id:"3",title:"Portable Espresso Maker",status:"Marketplace",stockQuantity:42,soldQuantity:158,price:89.99}]),r(!1)},1e3)}catch(h){console.error("Error fetching dashboard data:",h),r(!1)}};d&&t&&t.role==="Creator"&&s()},[d,t]),d?(t==null?void 0:t.role)!=="Creator"?e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Access denied"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"You must be a creator to access this dashboard."}),e.jsx(l,{onClick:()=>a("/"),children:"Go to Home"})]})}):m?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx(j,{})}):e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"md:flex md:items-center md:justify-between mb-8",children:[e.jsx("div",{className:"flex-1 min-w-0",children:e.jsx("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate",children:"Creator Dashboard"})}),e.jsx("div",{className:"mt-4 flex md:mt-0 md:ml-4",children:e.jsx(l,{onClick:()=>a("/creator/products/new"),children:"Create New Product"})})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-3 mb-8",children:[e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"px-4 py-5 sm:p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 bg-indigo-500 rounded-md p-3",children:e.jsx("svg",{className:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Projects"}),e.jsx("dd",{className:"flex items-baseline",children:e.jsx("div",{className:"text-2xl font-semibold text-gray-900",children:n.totalProjects})})]})})]})})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"px-4 py-5 sm:p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 bg-green-500 rounded-md p-3",children:e.jsx("svg",{className:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Revenue"}),e.jsx("dd",{className:"flex items-baseline",children:e.jsxs("div",{className:"text-2xl font-semibold text-gray-900",children:["$",n.totalRevenue.toLocaleString()]})})]})})]})})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"px-4 py-5 sm:p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 bg-blue-500 rounded-md p-3",children:e.jsx("svg",{className:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Backers"}),e.jsx("dd",{className:"flex items-baseline",children:e.jsx("div",{className:"text-2xl font-semibold text-gray-900",children:n.totalBackers})})]})})]})})})]}),e.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[e.jsx("div",{className:"px-4 py-5 sm:px-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Your Projects"}),e.jsx(l,{variant:"outline",size:"sm",onClick:()=>a("/creator/products"),children:"View All"})]})}),e.jsx("div",{className:"border-t border-gray-200",children:e.jsx("ul",{className:"divide-y divide-gray-200",children:c.map(s=>e.jsx("li",{children:e.jsxs("div",{className:"px-4 py-6 sm:px-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900",children:s.title}),e.jsxs("div",{className:"mt-1 flex items-center",children:[e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${s.status==="Funding"?"bg-yellow-100 text-yellow-800":s.status==="Successful"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}`,children:s.status}),e.jsxs("span",{className:"ml-2 text-sm text-gray-500",children:["$",s.price.toFixed(2)]})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(l,{variant:"outline",size:"sm",onClick:()=>a(`/creator/products/${s._id}/edit`),children:"Edit"}),e.jsx(l,{variant:"outline",size:"sm",onClick:()=>a(`/product/${s._id}`),children:"View"})]})]}),s.status==="Funding"&&e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"flex justify-between text-sm text-gray-500 mb-1",children:[e.jsxs("span",{children:[s.currentFunding," of ",s.fundingGoal," backers"]}),e.jsxs("span",{children:[Math.ceil((new Date(s.deadline)-new Date)/(1e3*60*60*24))," days left"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-indigo-600 h-2 rounded-full",style:{width:`${Math.min(100,s.currentFunding/s.fundingGoal*100)}%`}})})]}),s.status==="Marketplace"&&e.jsx("div",{className:"mt-4",children:e.jsxs("div",{className:"flex justify-between text-sm text-gray-500",children:[e.jsxs("span",{children:["Sold: ",s.soldQuantity]}),e.jsxs("span",{children:["In Stock: ",s.stockQuantity]})]})})]})},s._id))})})]})]}):e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Please log in"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"You need to be logged in to view the creator dashboard."}),e.jsx(l,{onClick:()=>a("/login"),children:"Go to Login"})]})})};export{b as default};
